_G.enabled = true

if not workspace.Structure:FindFirstChild('Base') then
local base = Instance.new('Part', workspace.Structure)
base.Size = Vector3.new(50, 2, 50)
base.Name = 'Base'
base.Anchored = true
base.CanCollide = true
base.Transparency = 0
base.CFrame = CFrame.new(1, 100000, 1)
end

wait(0.2)

local workspace = game:GetService("Workspace")
local candies = workspace.Gifts
local player = game:GetService("Players").LocalPlayer

local character = player.Character or player.CharacterAdded:Wait()
local hum = character:FindFirstChild("Humanoid") or character:WaitForChild("Humanoid")
local hrp = character:FindFirstChild("HumanoidRootPart") or character:WaitForChild("HumanoidRootPart")


while _G.enabled do
    if #candies:GetChildren() > 0 and hrp and hum and hum.Health > 0 then
        for i, v in pairs(candies:GetChildren()) do
            print("Collected time!")
            wait()
            hrp.CFrame = v.CFrame
        end
    elseif hum.Health == 0 then
        wait()
    else
        hrp.CFrame = workspace.Structure:FindFirstChild('Base').CFrame * CFrame.new(0, 5.3, 0)
        print("Scanning for Time.")
    end
    wait()
end
